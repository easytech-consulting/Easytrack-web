<!DOCTYPE html>
<!--
* easytrak - Application pour la gestion de stock
* @version 1.0.0
* @link https://github.com/estelle97/Easytrak
* Copyright 2020 easytech
* Licensed under MIT (https://easytrak.com/license)
-->
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Easytrak - Application pour la gestion de stock</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <meta name="msapplication-TileColor" content="#206bc4" />
    <meta name="theme-color" content="#206bc4" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="robots" content="noindex,nofollow,noarchive" />
    <link rel="icon" href="../../assets/static/favicon.png" type="image/png" />
    <link rel="shortcut icon" href="../../assets/static/favicon.png" type="image/png" />
    <!-- CSS files -->
    <link href="../../assets/dist/libs/jqvmap/dist/jqvmap.min.css" rel="stylesheet" />
    <link href="../../assets/dist/css/easytrak.min.css" rel="stylesheet" />
    <link href="../../assets/dist/css/easytrak-payments.min.css" rel="stylesheet" />
    <link href="../../assets/dist/css/demo.min.css" rel="stylesheet" />
    <link href="../../assets/dist/css/custom.css" rel="stylesheet" />
    <link href="../../assets/dist/libs/selectize/dist/css/selectize.css" rel="stylesheet" />
    <style>
        body {
            display: none;
        }
        .order-box {
            padding: 30px
        }

        .order-box .order-details-box {
            display: -webkit-box;
            display: flex;
            -webkit-box-pack: justify;
            justify-content: space-between;
            margin-bottom: 20px;
            -webkit-box-align: center;
            align-items: center
        }

        .order-box .order-details-box .order-main-info span {
            display: block;
            color: #adb5bd;
            line-height: 1.3
        }

        .order-box .order-details-box .order-main-info strong {
            display: block;
            font-size: 1.5rem;
            line-height: 1.3
        }

        .order-box .order-details-box .order-sub-info span {
            display: block;
            color: #adb5bd;
            line-height: 1.3;
            font-size: .775rem
        }

        .order-box .order-details-box .order-sub-info strong {
            display: block;
            font-size: .9rem;
            line-height: 1.3
        }

        .order-box .order-controls {
            margin-bottom: 20px
        }

        .order-box .order-items-table {
            margin-bottom: 40px;
            padding-bottom: 20px;
        }

        .order-box .order-items-table .product-image {
            width: 70px;
            height: 70px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center center
        }

        .order-box .order-items-table .product-name {
            font-weight: 500;
            font-size: 1.25rem;
            line-height: 1.3
        }

        .order-box .order-items-table .product-remove-btn {
            color: #E08989;
            font-size: 16px
        }

        .order-box .order-items-table .product-details {
            color: #adb5bd;
            font-size: .8rem
        }

        .order-box .order-items-table .product-details strong {
            color: #3E4B5B
        }

        .order-box .order-items-table .product-details .color-box {
            width: 10px;
            height: 10px;
            display: inline-block;
            margin-left: 5px;
            margin-right: 10px
        }

        .order-box .order-items-table .product-price {
            font-weight: 500;
            font-size: 1.25rem
        }

        .order-box .order-items-table .quantity-input .input-group-text {
            padding-left: 5px !important;
            padding-right: 5px !important
        }

        .order-box .order-items-table .quantity-input .form-control {
            -webkit-box-flex: 0;
            flex: 0 0 45px;
            text-align: center;
            font-weight: 500
        }

        .order-box .order-section-heading {
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding-bottom: 10px;
            margin-bottom: 15px
        }

        .order-summary-row {
            display: -webkit-box;
            display: flex;
            -webkit-box-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            align-items: center
        }

        .order-summary-row.as-total .order-summary-label {
            font-weight: 500;
            font-size: 1.25rem;
            color: #3E4B5B
        }

        .order-summary-row.as-total .order-summary-value {
            font-weight: 500;
            font-size: 1.5rem
        }

        .order-summary-row .order-summary-label {
            color: #adb5bd
        }

        .order-summary-row .order-summary-label strong {
            display: block;
            color: #3E4B5B;
            font-size: .8rem
        }

        .order-summary-row .order-summary-value {
            font-weight: 500
        }

        .order-summary-row+.order-summary-row {
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            padding-top: 5px;
            margin-top: 5px
        }

        .order-summary-row+.order-summary-row.as-total {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 3px solid #222
        }
        .product-card {
            transition: all 0.5s;
        }
        .product-card:hover {
            border: 1px solid rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            transform: scale(1.07);
            -webkit-box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.5);
            -moz-box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.5);
            box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.5);
            z-index: 10;
        }
        .product-card:focus {
            outline: none !important;
        }
        .product-card:active{
            transform: scale(1.025);
            -webkit-box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.1);
            -moz-box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.1);
            box-shadow: 0px 4px 30px -15px rgba(0,0,0,0.1);
        }
    </style>
</head>

<body class="antialiased">
    <div class="page">
        <header class="navbar navbar-expand-md navbar-dark navbar-bg-gradient navbar-overlap">
            <div class="container-xl">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a href="." class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pr-0 pr-md-3">
                    <img src="../../assets/static/logo-white.svg" alt="easytrak" class="navbar-brand-image" />
                </a>
                <div class="navbar-nav flex-row order-md-last">
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-toggle="dropdown">
                            <span class="avatar"
                                style="background-image: url('https://ui-avatars.com/api/?name=Estelle+Belinga&background=FFFFFF&color=267FC9&font-size=0.30');">
                                <span class="badge bg-red"></span>
                            </span>
                            <div class="d-none d-xl-block pl-2">
                                <div>Estelle Belinga</div>
                                <div class="mt-1 small text-muted">
                                    Admin
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="./profile.html">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M12 17c3.662 0 6.865 1.575 8.607 3.925l-1.842.871C17.347 20.116 14.847 19 12 19c-2.847 0-5.347 1.116-6.765 2.796l-1.841-.872C5.136 18.574 8.338 17 12 17zm0-15a5 5 0 0 1 5 5v3a5 5 0 0 1-4.783 4.995L12 15a5 5 0 0 1-5-5V7a5 5 0 0 1 4.783-4.995L12 2zm0 2a3 3 0 0 0-2.995 2.824L9 7v3a3 3 0 0 0 5.995.176L15 10V7a3 3 0 0 0-3-3z" />
                                </svg>
                                Mon profile
                            </a>
                            <a class="dropdown-item" href="./agenda.html">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zm-2 2H9v2H7V5H4v4h16V5h-3v2h-2V5zm5 6H4v8h16v-8z" />
                                </svg>
                                Agenda
                            </a>
                            <a class="dropdown-item" href="./notifications.html">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M5 18h14v-6.969C19 7.148 15.866 4 12 4s-7 3.148-7 7.031V18zm7-16c4.97 0 9 4.043 9 9.031V20H3v-8.969C3 6.043 7.03 2 12 2zM9.5 21h5a2.5 2.5 0 1 1-5 0z" />
                                </svg>
                                Notifications
                            </a>
                            <a class="dropdown-item" href="./chat.html">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M10 3h4a8 8 0 1 1 0 16v3.5c-5-2-12-5-12-11.5a8 8 0 0 1 8-8zm2 14h2a6 6 0 1 0 0-12h-4a6 6 0 0 0-6 6c0 3.61 2.462 5.966 8 8.48V17z" />
                                </svg>
                                Chat
                            </a>
                            <a class="dropdown-item" href="./help.html">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355z" />
                                </svg>
                                Aide
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                    class="icon dropdown-item-icon">
                                    <path fill="none" d="M0 0h24v24H0z" />
                                    <path
                                        d="M4 18h2v2h12V4H6v2H4V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3zm2-7h7v2H6v3l-5-4 5-4v3z" />
                                </svg>
                                Se déconnecter</a>
                        </div>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <div class="d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="./index.html">
                                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                                            height="24" class="icon">
                                            <path fill="none" d="M0 0h24v24H0z" />
                                            <path
                                                d="M21 20a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.49a1 1 0 0 1 .386-.79l8-6.222a1 1 0 0 1 1.228 0l8 6.222a1 1 0 0 1 .386.79V20zm-2-1V9.978l-7-5.444-7 5.444V19h14z"
                                                fill="rgba(255,255,255,0.8)" /></svg>
                                    </span>
                                    <span class="nav-link-title">
                                        Accueil
                                    </span>
                                </a>
                            </li>
                            <li class="nav-item dropdown active">
                                <a class="nav-link dropdown-toggle" href="#navbar-layout" data-toggle="dropdown"
                                    role="button" aria-expanded="false">
                                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                                            height="24" class="icon">
                                            <path fill="none" d="M0 0h24v24H0z" />
                                            <path
                                                d="M6.5 2h11a1 1 0 0 1 .8.4L21 6v15a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6l2.7-3.6a1 1 0 0 1 .8-.4zM19 8H5v12h14V8zm-.5-2L17 4H7L5.5 6h13zM9 10v2a3 3 0 0 0 6 0v-2h2v2a5 5 0 0 1-10 0v-2h2z"
                                                fill="rgba(255,255,255,0.8)" />
                                        </svg>
                                    </span>
                                    <span class="nav-link-title">
                                        Sites
                                    </span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="./products.html">
                                            Produits
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="./suppliers.html">
                                            Fournisseurs
                                        </a>
                                    </li>
                                    <li class="active">
                                        <a class="dropdown-item" href="./salesorders-kanban-board.html">
                                            Commandes clients
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="./purchaseorders.html">
                                            Bons de commandes
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="./sites.html">
                                            Gérer les sites
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./users.html">
                                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                                            height="24" class="icon">
                                            <path fill="none" d="M0 0h24v24H0z" />
                                            <path
                                                d="M2 22a8 8 0 1 1 16 0h-2a6 6 0 1 0-12 0H2zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm8.284 3.703A8.002 8.002 0 0 1 23 22h-2a6.001 6.001 0 0 0-3.537-5.473l.82-1.824zm-.688-11.29A5.5 5.5 0 0 1 21 8.5a5.499 5.499 0 0 1-5 5.478v-2.013a3.5 3.5 0 0 0 1.041-6.609l.555-1.943z"
                                                fill="rgba(255,255,255,0.8)" />
                                        </svg>
                                    </span>
                                    <span class="nav-link-title">
                                        employés
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div
                            class="ml-md-auto pl-md-4 py-2 py-md-0 mr-md-4 order-first order-md-last flex-grow-1 flex-md-grow-0">
                            <form action="." method="get">
                                <div class="input-icon">
                                    <span class="input-icon-addon">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" />
                                            <circle cx="10" cy="10" r="7" />
                                            <line x1="21" y1="21" x2="15" y2="15" />
                                        </svg>
                                    </span>
                                    <input type="text" class="form-control form-control-rounded form-control-dark"
                                        placeholder="Search…" />
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="content">
            <div class="container-xl">
                <!-- Page title -->
                <div class="page-header text-white">
                    <div class="row align-items-center">
                        <div class="col-auto">
                            <h2 class="page-title">
                                <a href="./salesorders-kanban-board.html" class="mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                        <path fill="none" d="M0 0h24v24H0z" />
                                        <path
                                            d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z"
                                            fill="rgba(255,255,255,1)" /></svg>
                                </a>
                                Passer une commande
                            </h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8" style="max-height: 700px;">
                        <div class="card">
                            <div class="order-box">
                                <div class="order-details-box">
                                    <div class="order-main-info"><span>Commande #</span><strong>KHD8374</strong></div>
                                    <div class="order-sub-info"><span>Créer le</span><strong class="order-sub-info-date">January 14th, 2019</strong>
                                    </div>
                                </div>
                                <div class="order-controls mb-4">
                                    <form class="form-inline">
                                        <div class="form-group mb-3">
                                            <label for="">Site</label>
                                            <select id="sites" class="form-select">
                                                <option value="1">Bastos</option>
                                                <option value="2">Odja</option>
                                                <option value="3">Essos</option>
                                            </select>
                                        </div>
                                        <div class="form-group mb-3">
                                            <label for="">Fournisseur</label>
                                            <select id="suppliers" class="form-select">
                                                <option value="1">Santa Maria</option>
                                                <option value="2">Perica LCC</option>
                                                <option value="3">Laurent Serge LCC</option>
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div class="order-products mb-5">
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <div class="input-icon mb-3">
                                                <input id="product-search" type="text" class="form-control" placeholder="Rechercher un produit..">
                                                <span class="input-icon-addon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><circle cx="10" cy="10" r="7"></circle><line x1="21" y1="21" x2="15" y2="15"></line></svg>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <select id="categories" class="form-select">
                                                <option value="1">Beer</option>
                                                <option value="2">Jus naturel</option>
                                                <option value="3">Wisky</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="card-deck row d-flex flex-row">
                                    </div>
                                </div>
                                <div class="order-items-table">
                                    <div class="table-responsive">
                                        <table class="table table-lightborder">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th>Nom</th>
                                                    <th>Quantité</th>
                                                    <th>Prix unitaire</th>
                                                    <th>Total</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody class="order-list">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="col-lg-4">
                        <div class="card p-3 order-foot">
                            <div class="row">
                                <div class="col-md-12 mb-2">
                                    <div>
                                        <div class="form-group row">
                                            <div class="col-md-12 mb-4">
                                                <label class="form-label">Moyen de payement</label>
                                                <div
                                                    class="form-selectgroup form-selectgroup-boxes d-flex flex-row">
                                                    <label class="form-selectgroup-item flex-fill">
                                                        <input type="radio" name="payment-method" value="cash"
                                                            class="form-selectgroup-input" checked>
                                                        <div
                                                            class="form-selectgroup-label d-flex align-items-center p-3">
                                                            <div class="mr-3">
                                                                <span class="form-selectgroup-check"></span>
                                                            </div>
                                                            <div>
                                                                <span
                                                                    class="payment payment-provider-cash payment-sm mr-2 shadow-none"></span>
                                                                Cash
                                                            </div>
                                                        </div>
                                                    </label>
                                                    <label class="form-selectgroup-item flex-fill">
                                                        <input type="radio" name="payment-method" value="om"
                                                            class="form-selectgroup-input">
                                                        <div
                                                            class="form-selectgroup-label d-flex align-items-center p-3">
                                                            <div class="mr-3">
                                                                <span class="form-selectgroup-check"></span>
                                                            </div>
                                                            <div>
                                                                <span
                                                                    class="payment payment-provider-om payment-sm mr-2 shadow-none"></span>
                                                                Orange Money
                                                            </div>
                                                        </div>
                                                    </label>
                                                    <label class="form-selectgroup-item flex-fill">
                                                        <input type="radio" name="payment-method" value="momo"
                                                            class="form-selectgroup-input">
                                                        <div
                                                            class="form-selectgroup-label d-flex align-items-center p-3">
                                                            <div class="mr-3">
                                                                <span class="form-selectgroup-check"></span>
                                                            </div>
                                                            <div>
                                                                <span
                                                                    class="payment payment-provider-mtn payment-sm mr-2 shadow-none"></span>
                                                                MOMO
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 mb-4">
                                    <h5 class="order-section-heading">Récapitulatif</h5>
                                    <div class="order-summary-row">
                                        <div class="order-summary-label"><span>Total</span></div>
                                        <div class="order-summary-value subtotal">0</div>
                                    </div>
                                    <div class="order-summary-row">
                                        <div class="order-summary-label"><span>Transport</span></div>
                                        <div class="order-summary-value">0</div>
                                    </div>
                                    <div class="order-summary-row as-total">
                                        <div class="order-summary-label"><span>Total</span></div>
                                        <div class="order-summary-value grand-total">0</div>
                                    </div>
                                </div>
                                <div class="col-md-12 mb-4">
                                    <label class="form-label"> Etat </label>
                                    <select name="role" id="status" class="form-select">
                                        <option value="1">Non livré</option>
                                        <option value="2">   livré   </option>
                                    </select>
                                </div>
                                <div class="col-md-12">
                                    <div>
                                        <div class="form-group">
                                            <label class="form-label"> Notes </label>
                                            <textarea class="form-control mb-4" placeholder="Donner un avis"></textarea>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-block" onclick="order()">Enregister</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="footer footer-transparent">
                <div class="container">
                    <div class="row text-center align-items-center flex-row-reverse">
                        <div class="col-lg-auto ml-lg-auto">
                            <ul class="list-inline list-inline-dots mb-0">
                                <li class="list-inline-item">
                                    <a href="" class="link-secondary">Aide</a>
                                </li>
                                <li class="list-inline-item">
                                    <a href="./terms-of-service.html" class="link-secondary">Conditions
                                        d'utilisation</a>
                                </li>
                                <li class="list-inline-item">
                                    <a href="" class="link-secondary">Licence</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                            Copyright © 2020
                            <a href="." class="link-secondary">Easytrak</a>.
                            Tous droits réservés.
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <!-- Libs JS -->
    <script src="../../assets/dist/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/dist/libs/jquery/dist/jquery.min.js"></script>
    <script src="../../assets/dist/libs/selectize/dist/js/standalone/selectize.min.js"></script>
    <!-- easytrak Core -->
    <script src="../../assets/dist/js/easytrak.min.js"></script>

    <script>
        document.body.style.display = "block";
        $(document).ready(function() {
            var today = new Date();
            var dd = today.getDate();
            var mm = today.getMonth() + 1;

            var yyyy = today.getFullYear();
            if (dd < 10) {
                dd = '0' + dd;
            }

            if (mm < 10) {
                mm = '0' + mm;
            }
            var today_converted = dd + '/' + mm + '/' + yyyy;
            $( ".order-sub-info-date" ).text( today_converted );
        });
    </script>
    <script>
        // AUTOCOMPLETE
        var categoriesSelect = $("#categories").selectize({});
        var suppliersSelect = $("#suppliers").selectize({});
        var sitesSelect = $("#sites").selectize({});

        // GLOBAL VARIABLES
        let productInDB = [
            {
                id: "1",
                name: "Kadji Beer",
                photo:"../../assets/static/products/beer.jpg",
                category_id: 1,
                qty:"10",
                price:"600"
            },
            {
                id: "2",
                name: "Ice black",
                photo:"../../assets/static/products/beer-2.jpg",
                category_id: 1,
                qty:"10",
                price:"750"
            },
            {
                id: "3",
                name: "Booster",
                photo:"../../assets/static/products/beer-3.jpg",
                category_id: 1,
                qty:"10",
                price:"700"
            },
            {
                id: "4",
                name: "Beaufort",
                photo:"../../assets/static/products/beer-4.jpg",
                category_id: 1,
                qty:"10",
                price:"600"
            },
            {
                id: "5",
                name: "Guiness Smooth",
                photo:"../../assets/static/products/beer.jpg",
                category_id: 1,
                qty:"10",
                price:"950"
            },
            {
                id: "6",
                name: "Guiness",
                photo:"../../assets/static/products/beer-2.jpg",
                category_id: 1,
                qty:"10",
                price:"900"
            },
            {
                id: "7",
                name: "Muzik",
                photo:"../../assets/static/products/beer-3.jpg",
                category_id: 1,
                qty:"10",
                price:"500"
            },
            {
                id: "8",
                name: "33",
                photo:"../../assets/static/products/beer-4.jpg",
                category_id: 1,
                qty:"10",
                price:"550"
            },
            {
                id: "9",
                name: "Jus d'ananas",
                photo:"../../assets/static/products/beer-2.jpg",
                category_id: 2,
                qty:"10",
                price:"1000"
            },
            {
                id: "10",
                name: "Jus de goyave",
                photo:"../../assets/static/products/beer-4.jpg",
                category_id: 2,
                qty:"10",
                price:"1000"
            },
            {
                id: "11",
                name: "Jus de pommes",
                photo:"../../assets/static/products/beer.jpg",
                category_id: 2,
                qty:"10",
                price:"1000"
            },
            {
                id: "12",
                name: "COntesa",
                photo:"../../assets/static/products/beer-3.jpg",
                category_id: 3,
                qty:"10",
                price:"1000"
            },
            {
                id: "13",
                name: "Grant's",
                photo:"../../assets/static/products/beer-3.jpg",
                category_id: 3,
                qty:"10",
                price:"1000"
            },
        ]
        let productCardList = [];
        let productCardOnClick = null;
        let products = [];

        // DYNAMIC PRODUCT LOADER
        function injectCardList(itemList) {
            $.each(itemList, function (key, item) {
                $('.card-deck').append(
                    '<div class="col-md-3 product-card d-flex flex-column align-items-center card border-0 pt-3 mb-0" data-imgsrc="'+item.photo+'" data-id="'+item.id+'"  data-qty="'+item.qty+'" data-price="'+item.price+'" value="'+item.id+'">' +
                    '    <img class="w-50" src="'+item.photo+'" alt="Card image cap">' +
                    '    <div class="card-body text-center">' +
                    '    <h5 class="card-title">'+item.name+'</h5>' +
                    '    </div>' +
                    '</div>'
                );
            });
        }

        function displayProduct() {
            // INITIALIZE HTML CONTENT
            $('.card-deck').empty();

            // CORE
            var category = categoriesSelect[0].selectize.getValue();
            productCardList = productInDB.filter(product => product.category_id == category);
            injectCardList(productCardList);
            productCardOnClick = cardOnCick();
        };

        displayProduct();

        // CATEGORY SELECT EVENT
        categoriesSelect[0].selectize.on('change', () => {
            displayProduct();
        });

        // SEARCH
        $("#product-search").change(function() {
            var val = $(this).val();
            var result = productInDB.filter(product => {
                return product.name.toLowerCase().indexOf(val.toLowerCase()) > -1;
            });
            if (result.length > 0) {
                // INITIALIZE HTML CONTENT
                $('.card-deck').empty();

                // CORE
                injectCardList(result);
                productCardOnClick = cardOnCick();
            }
        });

        // POS FUNCTIONS
        function calculate(){
            var total = 0;
            $.each(products, function (key, val) {
                total  += parseInt($("#qty-"+val).data('qty')) * parseInt($("#price-"+val).data('price'));
                $("#subtotal-"+val).html(parseInt($("#qty-"+val).data('qty')) * parseInt($("#price-"+val).data('price')));
                $("#subtotal-"+val).data('subtotal', parseInt($("#qty-"+val).data('qty')) * parseInt($("#price-"+val).data('price')));
            });

            $(".subtotal").html(total);

            $(".grand-total").html(total);
        }

        function removeElement(el) {
            $("#product-"+el).remove().fadeOut(1000);

            products = jQuery.grep(products, function(value) {
                return value != el;
            });
            calculate();
        }
        function addElement(el) {
            if(products.includes(el.data('id'))){
                updateQty(el.data('id'));
            } else{
                $('.order-list').prepend(
                    '<tr id="product-'+el.data("id")+'">' +
                    '    <td>' +
                    '        <div class="product-image mt-3 mb-3"' +
                    '            style="background-image: url('+el.data("imgsrc")+')">' +
                    '        </div>' +
                    '    </td>' +
                    '    <td style="vertical-align: middle;">' +
                    '        <div class="product-name" id="name-'+el.data("id")+'" data-name="'+el.text()+'">'+el.text()+'</div>' +
                    '    </td>' +
                    '    <td style="vertical-align: middle;">' +
                    '        <div class="product-price" id="price-'+el.data("id")+'"  data-price="'+el.data("price")+'">'+el.data("price")+' FCFA</div>' +
                    '    </td>' +
                    '    <td style="vertical-align: middle;">' +
                    '        <div class="quantity-selector">' +
                    '            <div class="quantity-input">' +
                    '                <div class="input-group">' +
                    '                    <span class="input-group-btn mr-1">' +
                    '                        <a class="btn btn-light p-1" id="minus-'+el.data("id")+'" onclick="updateQty('+el.data("id")+', -1)">' +
                    '                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z" fill="rgba(0,0,0,1)"/></svg>' +
                    '                        </a>' +
                    '                    </span>' +
                    '                    <input type="number" class="form-control p-0 text-center border-0" value="1" id="qty-'+el.data("id")+'" data-total="'+el.data("qty")+'" data-qty="1" required oninput="updateQty('+el.data("id")+', '+this.value+')">' +
                    '                    <span class="input-group-btn ml-1">' +
                    '                        <a class="btn btn-light p-1" id="plus-'+el.data("id")+'" onclick="updateQty('+el.data("id")+')">' +
                    '                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z" fill="rgba(0,0,0,1)"/></svg>' +
                    '                        </a>' +
                    '                    </span>' +
                    '                </div>' +
                    '            </div>' +
                    '        </div>' +
                    '    </td>' +
                    '    <td style="vertical-align: middle;">' +
                    '        <div class="product-price" id="subtotal-'+el.data("id")+'" data-subtotal="'+el.data("price")+'">'+el.data("price")+' FCFA</div>' +
                    '    </td>' +
                    '    <td style="vertical-align: middle;">' +
                    '        <a class="btn btn-light p-1 delete" data-product="'+el.data("id")+'" onclick="removeElement('+el.data("id")+')" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z" fill="rgb(255, 62, 62)"/></svg></a>' +
                    '    </td>' +
                    '</tr>'
                );
                products.push(el.data('id'));
                calculate();
            }
        }

        function updateQty(el, one = 1){
            var  product = $("#qty-"+el);
            var nbr;
            if(one != 1 && one != -1) nbr = one;
            else  {
                nbr = parseInt(product.val()) + one;
            }
            if(product.data('total') >= nbr && nbr >= 1){
                product.data('qty', nbr);
                product.val(nbr);
            }
            calculate();
        }

        function cardOnCick() {
            return $('.product-card').click(function () {
                element = $(this);
                addElement(element);
            });
        }

        function order() {
            var order = '';
            var site = $("#sites").val();
            var supplier = $("#suppliers").val();
            var paying_method = $("#paying_method").val();
            var status = $("#status").val();
            var purchase_text = $("#purchase_text").val();
            $.each(products, function (key, val) {
                id = val;
                qty = $("#qty-"+val).data('qty');
                price = $("#price-"+val).data('price');
                order += id+';'+qty+';'+price+';0|'
            });
            console.log(order,site,supplier,status,paying_method,purchase_text);
        }

    </script>
</body>

</html>
